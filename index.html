<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¡£æ¡ˆåŠ å¯†æŠ€æœ¯ä½“éªŒé¦† | å¯¹ç§°åŠ å¯†äº’åŠ¨æ•™å­¦</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #f39c12;
            --light-color: #f5f0e6;
            --dark-color: #1a2530;
            --success-color: #27ae60;
            --warning-color: #e74c3c;
            --ancient-color: #d35400;
            --modern-color: #27ae60;
        }
        
        body {
            background: linear-gradient(135deg, #f5f0e6 0%, #e8e2d6 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%23f9f6f0"/><path d="M0 0L100 100M100 0L0 100" stroke="%23e0d8c8" stroke-width="0.5"/></svg>');
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            border-bottom: 4px solid var(--accent-color);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        
        .time-period {
            display: inline-block;
            background: rgba(52, 152, 219, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin: 5px;
            color: var(--secondary-color);
            border: 1px solid rgba(52, 152, 219, 0.2);
        }
        
        /* æ ‡ç­¾é¡µå¯¼èˆª */
        .tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
            background: white;
            border-radius: 12px;
            padding: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .tab-btn {
            padding: 12px 25px;
            background: transparent;
            border: none;
            color: #666;
            font-size: 1rem;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
            margin: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .tab-btn:hover {
            background: rgba(52, 152, 219, 0.1);
            color: var(--secondary-color);
        }
        
        .tab-btn.active {
            background: var(--secondary-color);
            color: white;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
        }
        
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid rgba(243, 156, 18, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary-color);
        }
        
        .section-title i {
            color: var(--accent-color);
        }
        
        /* çŸ¥è¯†ç‚¹å¡ç‰‡ */
        .knowledge-card {
            background: #e3f2fd;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 6px solid #2196f3;
        }
        
        .knowledge-card h2 {
            margin-top: 0;
            color: #0d47a1;
            font-size: 1.6rem;
            margin-bottom: 15px;
        }
        
        .knowledge-card p {
            line-height: 1.7;
            margin-bottom: 15px;
            font-size: 1.05rem;
        }
        
        code {
            background: rgba(0, 0, 0, 0.05);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d35400;
            font-weight: bold;
        }
        
        /* å¯¹æ¯”è¡¨æ ¼ */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .comparison-table th, .comparison-table td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .comparison-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .comparison-table tr:last-child td {
            border-bottom: none;
        }
        
        .ancient {
            color: var(--ancient-color);
            font-weight: bold;
        }
        
        .modern {
            color: var(--modern-color);
            font-weight: bold;
        }
        
        /* è¾“å…¥è¾“å‡ºåŒºåŸŸ */
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 14px;
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 8px;
            color: #333;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            background: white;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .btn {
            padding: 14px 24px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn-accent {
            background: var(--accent-color);
        }
        
        .btn-accent:hover {
            background: #e67e22;
        }
        
        .btn-success {
            background: var(--success-color);
        }
        
        .btn-success:hover {
            background: #219653;
        }
        
        /* è¾“å‡ºåŒºåŸŸ */
        .output-box {
            background: #f8f9fa;
            border: 2px dashed #ccc;
            padding: 20px;
            margin-top: 15px;
            min-height: 60px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            word-break: break-all;
            font-size: 1.05rem;
            line-height: 1.6;
            transition: all 0.3s;
        }
        
        .output-box.encrypted {
            border-color: var(--modern-color);
            background: rgba(39, 174, 96, 0.05);
        }
        
        .output-box.decrypted {
            border-color: var(--secondary-color);
            background: rgba(52, 152, 219, 0.05);
        }
        
        /* æç¤ºæ¡† */
        .tip-box {
            background: #e8f4fc;
            padding: 16px;
            border-left: 5px solid var(--secondary-color);
            margin-top: 25px;
            font-size: 1rem;
            border-radius: 0 8px 8px 0;
            line-height: 1.6;
        }
        
        .tip-box strong {
            color: var(--secondary-color);
        }
        
        /* å¯†ç è½¬ç›˜ */
        .visualization {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 220px;
            background: white;
            border-radius: 12px;
            margin: 25px 0;
            position: relative;
            overflow: hidden;
            border: 2px solid #eee;
        }
        
        .cipher-wheel {
            width: 200px;
            height: 200px;
            position: relative;
            transition: transform 1.5s ease;
        }
        
        .wheel-outer, .wheel-inner {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .wheel-outer {
            border: 3px solid var(--ancient-color);
            background: rgba(211, 84, 0, 0.05);
        }
        
        .wheel-inner {
            width: 70%;
            height: 70%;
            border: 3px solid var(--accent-color);
            background: rgba(243, 156, 18, 0.05);
            transform: rotate(0deg);
        }
        
        .wheel-letter {
            position: absolute;
            color: var(--primary-color);
            font-weight: bold;
            font-size: 1.3rem;
        }
        
        /* AESåŠ å¯†æµç¨‹å¯è§†åŒ– */
        .encryption-process {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 25px 0;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
        }
        
        .process-steps {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 800px;
            margin-bottom: 20px;
        }
        
        .process-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 120px;
        }
        
        .step-icon {
            width: 50px;
            height: 50px;
            background: var(--secondary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin-bottom: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .step-text {
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .process-arrow {
            font-size: 1.5rem;
            color: var(--accent-color);
            margin: 0 10px;
        }
        
        /* æŒ‘æˆ˜åŒºåŸŸ */
        .challenge-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .challenge-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(52, 152, 219, 0.2);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
        }
        
        .challenge-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .hint {
            font-style: italic;
            color: #7f8c8d;
            margin: 15px 0;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #ccc;
        }
        
        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            color: #95a5a6;
            font-size: 0.95rem;
        }
        
        /* é€šçŸ¥æ ·å¼ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease-out;
        }
        
        .notification.success {
            background: var(--success-color);
            color: white;
        }
        
        .notification.error {
            background: var(--warning-color);
            color: white;
        }
        
        .notification.info {
            background: var(--secondary-color);
            color: white;
        }
        
        /* æ”¹è¿›çš„AESäº¤äº’ç•Œé¢ */
        .aes-interactive {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .encryption-box {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 2px solid #e3f2fd;
        }
        
        .encryption-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .encryption-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .copy-btn {
            background: #f8f9fa;
            border: 1px solid #ddd;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .copy-btn:hover {
            background: #e9ecef;
        }
        
        .copy-btn.copied {
            background: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }
        
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes highlight {
            0% { background-color: inherit; }
            50% { background-color: rgba(243, 156, 18, 0.2); }
            100% { background-color: inherit; }
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .highlight {
            animation: highlight 1s ease;
        }
        
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .tabs { flex-direction: column; }
            .tab-btn { width: 100%; }
            .challenge-container { grid-template-columns: 1fr; }
            .section-title { font-size: 1.5rem; }
            .process-steps { flex-wrap: wrap; justify-content: center; }
            .process-step { margin: 10px; }
            .process-arrow { transform: rotate(90deg); margin: 10px 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-lock"></i> æ¡£æ¡ˆåŠ å¯†æŠ€æœ¯ä½“éªŒé¦†</h1>
            <p class="subtitle">ä»å¤ä»£å¯†ç åˆ°ç°ä»£åŠ å¯†ï¼šæ¢ç´¢å¯¹ç§°åŠ å¯†çš„å¤ä»Šæ™ºæ…§</p>
            <div>
                <span class="time-period"><i class="fas fa-scroll"></i> å¤ä»£åŠ å¯†</span>
                <span class="time-period"><i class="fas fa-laptop-code"></i> ç°ä»£åŠ å¯†</span>
                <span class="time-period"><i class="fas fa-graduation-cap"></i> æ•™å­¦äº’åŠ¨</span>
            </div>
        </header>
        
        <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="introduction">
                <i class="fas fa-info-circle"></i> å¯¹ç§°åŠ å¯†ç®€ä»‹
            </button>
            <button class="tab-btn" data-tab="caesar">
                <i class="fas fa-exchange-alt"></i> å‡¯æ’’å¯†ç 
            </button>
            <button class="tab-btn" data-tab="aes">
                <i class="fas fa-shield-alt"></i> AESåŠ å¯†
            </button>
            <button class="tab-btn" data-tab="challenge">
                <i class="fas fa-trophy"></i> åŠ å¯†æŒ‘æˆ˜
            </button>
        </div>
        
        <!-- å¯¹ç§°åŠ å¯†ç®€ä»‹ -->
        <div id="introduction" class="tab-content active">
            <div class="knowledge-card">
                <h2><i class="fas fa-book"></i> ä»€ä¹ˆæ˜¯å¯¹ç§°åŠ å¯†ï¼Ÿ</h2>
                <p>
                    <strong>å¯¹ç§°åŠ å¯†</strong>æ˜¯æŒ‡<strong>åŠ å¯†å’Œè§£å¯†ä½¿ç”¨åŒä¸€æŠŠå¯†é’¥</strong>çš„åŠ å¯†æ–¹å¼ã€‚
                    å®ƒé€Ÿåº¦å¿«ã€æ•ˆç‡é«˜ï¼Œå¹¿æ³›åº”ç”¨äºç”µå­æ–‡ä»¶ä¿æŠ¤ï¼ˆå¦‚PDFå¯†ç ã€å‹ç¼©åŒ…åŠ å¯†ã€æ•°æ®åº“å­—æ®µåŠ å¯†ç­‰ï¼‰ã€‚
                </p>
                <p>
                    å¸¸è§ç®—æ³•åŒ…æ‹¬ï¼š<code>DES</code>ï¼ˆå·²æ·˜æ±°ï¼‰ã€<code>3DES</code>ã€<code>AES</code>ï¼ˆå½“å‰å›½é™…æ ‡å‡†ï¼‰ã€‚
                    å…¶ä¸­ <code>AES-256</code> è¢«ç¾å›½æ”¿åºœç”¨äºä¿æŠ¤æœºå¯†ä¿¡æ¯ï¼Œä¹Ÿæ˜¯ç”µå­æ¡£æ¡ˆç®¡ç†æ¨èç®—æ³•ã€‚
                </p>
            </div>
            
            <div class="card">
                <h2 class="section-title"><i class="fas fa-balance-scale"></i> å¤ä»£ vs ç°ä»£ï¼šå‡¯æ’’å¯†ç  vs AES</h2>
                <table class="comparison-table">
                    <tr>
                        <th>å¯¹æ¯”ç»´åº¦</th>
                        <th><span class="ancient">å‡¯æ’’å¯†ç ï¼ˆå¤ä»£ï¼‰</span></th>
                        <th><span class="modern">AESï¼ˆç°ä»£ï¼‰</span></th>
                    </tr>
                    <tr>
                        <td>åŠ å¯†åŸç†</td>
                        <td>å­—æ¯å›ºå®šä½ç§»ï¼ˆå¦‚Aâ†’Dï¼‰</td>
                        <td>å¤šè½®æ··æ·†+æ‰©æ•£ï¼ˆåŸºäºæ•°å­¦éš¾é¢˜ï¼‰</td>
                    </tr>
                    <tr>
                        <td>å¯†é’¥ç©ºé—´</td>
                        <td>ä»…25ç§å¯èƒ½ï¼ˆè‹±æ–‡å­—æ¯ï¼‰</td>
                        <td>2<sup>256</sup> â‰ˆ 1.1Ã—10<sup>77</sup>ï¼ˆå®‡å®™åŸå­æ•°â‰ˆ10<sup>80</sup>ï¼‰</td>
                    </tr>
                    <tr>
                        <td>ç ´è§£éš¾åº¦</td>
                        <td>æ‰‹å·¥ç©·ä¸¾å‡ åˆ†é’Ÿ</td>
                        <td>ç°æœ‰è®¡ç®—æœºéœ€å®‡å®™å¹´é¾„æ—¶é—´</td>
                    </tr>
                    <tr>
                        <td>åº”ç”¨åœºæ™¯</td>
                        <td>å†›äº‹å¯†ä¿¡ã€ä¸ªäººç§˜å¯†</td>
                        <td>ç”µå­æ¡£æ¡ˆã€é‡‘èäº¤æ˜“ã€äº‘å­˜å‚¨</td>
                    </tr>
                    <tr>
                        <td>æ¡£æ¡ˆç®¡ç†æ„ä¹‰</td>
                        <td>ä¾èµ–"ä¿å¯†æ€§"ï¼ˆè—èµ·æ¥ï¼‰</td>
                        <td>ä¾èµ–"è®¡ç®—å®‰å…¨æ€§"ï¼ˆç®—ä¸åŠ¨ï¼‰</td>
                    </tr>
                </table>
                <div class="tip-box">
                    ğŸ’¡ <strong>å¯ç¤ºï¼š</strong>ç°ä»£ç”µå­æ–‡ä»¶å¿…é¡»ä¾é å¼ºåŠ å¯†ç®—æ³•ä¿éšœé•¿æœŸå¯è¯»ä¸å®‰å…¨ï¼
                    æ¡£æ¡ˆå­¦ä¸“ä¸šçš„å­¦ç”Ÿéœ€è¦ç†è§£åŠ å¯†æŠ€æœ¯å¦‚ä½•ä¿æŠ¤ç”µå­æ–‡ä»¶çš„çœŸå®æ€§ã€å®Œæ•´æ€§å’Œæœºå¯†æ€§ã€‚
                </div>
            </div>
        </div>
        
        <!-- å‡¯æ’’å¯†ç éƒ¨åˆ† -->
        <div id="caesar" class="tab-content">
            <div class="card">
                <h2 class="section-title"><i class="fas fa-history"></i> å‡¯æ’’å¯†ç  - å¤ä»£åŠ å¯†æŠ€æœ¯</h2>
                <p>å‡¯æ’’å¯†ç æ˜¯å¤ç½—é©¬å‡¯æ’’å¤§å¸ç”¨æ¥ä¿æŠ¤é‡è¦å†›æƒ…çš„åŠ å¯†æ–¹æ³•ã€‚å®ƒé€šè¿‡å°†å­—æ¯æŒ‰ç…§å›ºå®šæ•°ç›®è¿›è¡Œåç§»æ¥åŠ å¯†ä¿¡æ¯ã€‚</p>
                
                <div class="visualization">
                    <div class="cipher-wheel" id="cipherWheel">
                        <!-- é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="caesarText"><i class="fas fa-edit"></i> è¾“å…¥è¦åŠ å¯†çš„æ–‡æœ¬ï¼š</label>
                    <textarea id="caesarText" placeholder="è¯·è¾“å…¥è¦åŠ å¯†çš„æ¡£æ¡ˆå†…å®¹...">æ¡£æ¡ˆå­¦æ˜¯ä¸€é—¨é‡è¦çš„å­¦ç§‘</textarea>
                </div>
                
                <div class="input-group">
                    <label for="caesarShift"><i class="fas fa-sliders-h"></i> é€‰æ‹©åç§»é‡ï¼š</label>
                    <input type="range" id="caesarShift" min="1" max="25" value="3">
                    <span id="shiftValue" style="font-weight:bold; color:var(--ancient-color); margin-left:10px;">3</span>
                </div>
                
                <button class="btn" onclick="encryptCaesar()">
                    <i class="fas fa-lock"></i> åŠ å¯†æ–‡æœ¬
                </button>
                <button class="btn btn-accent" onclick="decryptCaesar()">
                    <i class="fas fa-unlock"></i> è§£å¯†æ–‡æœ¬
                </button>
                
                <div class="output-box" id="caesarResult">
                    ç­‰å¾…åŠ å¯†...
                </div>
                
                <div class="tip-box">
                    <strong>æ¡£æ¡ˆå­¦åº”ç”¨ï¼š</strong>åœ¨å¤ä»£æ¡£æ¡ˆé¦†ä¸­ï¼Œç±»ä¼¼å‡¯æ’’å¯†ç çš„æ–¹æ³•è¢«ç”¨äºä¿æŠ¤é‡è¦æ–‡çŒ®çš„ç›®å½•ç´¢å¼•ï¼Œ
                    åªæœ‰æŒæ¡åç§»è§„åˆ™çš„ç®¡ç†å‘˜æ‰èƒ½æ‰¾åˆ°ç‰¹å®šæ–‡çŒ®çš„ä½ç½®ã€‚
                </div>
            </div>
        </div>
        
        <!-- AESåŠ å¯†éƒ¨åˆ†ï¼ˆæ”¹è¿›ç‰ˆï¼‰ -->
        <div id="aes" class="tab-content">
            <div class="card">
                <h2 class="section-title"><i class="fas fa-shield-alt"></i> AESåŠ å¯† - ç°ä»£ç”µå­æ–‡ä»¶ä¿æŠ¤</h2>
                <p>é«˜çº§åŠ å¯†æ ‡å‡†ï¼ˆAESï¼‰æ˜¯ç›®å‰æœ€å¸¸ç”¨çš„å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œè¢«å¹¿æ³›åº”ç”¨äºæ”¿åºœã€é‡‘èå’Œæ¡£æ¡ˆç®¡ç†ç³»ç»Ÿã€‚</p>
                
                <!-- AESåŠ å¯†æµç¨‹å¯è§†åŒ– -->
                <div class="encryption-process">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">AESåŠ å¯†æµç¨‹å¯è§†åŒ–</h3>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-icon"><i class="fas fa-key"></i></div>
                            <div class="step-text">å¯†é’¥æ‰©å±•</div>
                        </div>
                        <div class="process-arrow"><i class="fas fa-arrow-right"></i></div>
                        <div class="process-step">
                            <div class="step-icon"><i class="fas fa-random"></i></div>
                            <div class="step-text">å­—èŠ‚ä»£æ¢</div>
                        </div>
                        <div class="process-arrow"><i class="fas fa-arrow-right"></i></div>
                        <div class="process-step">
                            <div class="step-icon"><i class="fas fa-exchange-alt"></i></div>
                            <div class="step-text">è¡Œç§»ä½</div>
                        </div>
                        <div class="process-arrow"><i class="fas fa-arrow-right"></i></div>
                        <div class="process-step">
                            <div class="step-icon"><i class="fas fa-layer-group"></i></div>
                            <div class="step-text">åˆ—æ··æ·†</div>
                        </div>
                    </div>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-icon"><i class="fas fa-plus-circle"></i></div>
                            <div class="step-text">è½®å¯†é’¥åŠ </div>
                        </div>
                        <div class="process-arrow"><i class="fas fa-arrow-right"></i></div>
                        <div class="process-step">
                            <div class="step-icon"><i class="fas fa-redo"></i></div>
                            <div class="step-text">é‡å¤10-14è½®</div>
                        </div>
                        <div class="process-arrow"><i class="fas fa-arrow-right"></i></div>
                        <div class="process-step">
                            <div class="step-icon"><i class="fas fa-lock"></i></div>
                            <div class="step-text">åŠ å¯†å®Œæˆ</div>
                        </div>
                    </div>
                </div>
                
                <!-- æ”¹è¿›çš„AESäº¤äº’ç•Œé¢ -->
                <div class="aes-interactive">
                    <!-- åŠ å¯†éƒ¨åˆ† -->
                    <div class="encryption-box">
                        <div class="encryption-header">
                            <i class="fas fa-lock" style="color: var(--modern-color);"></i>
                            <h3>åŠ å¯†æ¡£æ¡ˆ</h3>
                        </div>
                        <div class="encryption-content">
                            <div class="input-group">
                                <label for="plaintext"><i class="fas fa-edit"></i> æ˜æ–‡ï¼ˆè¦åŠ å¯†çš„æ¡£æ¡ˆå†…å®¹ï¼‰</label>
                                <textarea id="plaintext" placeholder="è¯·è¾“å…¥è¦åŠ å¯†çš„æ¡£æ¡ˆå†…å®¹...">å¯¹ç§°åŠ å¯†åœ¨ç”µå­æ–‡ä»¶ç®¡ç†ä¸­ç¡®ä¿æ•°æ®çš„æœºå¯†æ€§å’Œå®Œæ•´æ€§</textarea>
                            </div>
                            
                            <div class="input-group">
                                <label for="aesKey"><i class="fas fa-key"></i> åŠ å¯†å¯†é’¥</label>
                                <div style="display: flex; gap: 10px;">
                                    <input type="text" id="aesKey" value="Archives2024" placeholder="è¯·è¾“å…¥åŠ å¯†å¯†é’¥" style="flex: 1;">
                                    <button class="btn btn-accent" onclick="generateRandomKey()" style="padding: 10px 15px;">
                                        <i class="fas fa-random"></i> éšæœº
                                    </button>
                                </div>
                                <small style="color:#7f8c8d; margin-top:5px; display:block;">å»ºè®®ä½¿ç”¨4-16ä½å­—æ¯æˆ–æ•°å­—ç»„åˆ</small>
                            </div>
                            
                            <div class="action-buttons">
                                <button class="btn" onclick="aesEncrypt()">
                                    <i class="fas fa-lock"></i> æ‰§è¡ŒAESåŠ å¯†
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- åŠ å¯†ç»“æœ -->
                    <div class="encryption-box" id="encryptionResultBox" style="display: none;">
                        <div class="encryption-header">
                            <i class="fas fa-shield-alt" style="color: var(--success-color);"></i>
                            <h3>åŠ å¯†ç»“æœ</h3>
                        </div>
                        <div class="encryption-content">
                            <div class="input-group">
                                <label><i class="fas fa-file-contract"></i> åŠ å¯†åçš„æ¡£æ¡ˆï¼ˆå¯†æ–‡ï¼‰</label>
                                <div class="output-box encrypted" id="encryptedResult">
                                    ç­‰å¾…åŠ å¯†ç»“æœ...
                                </div>
                                <button class="copy-btn" onclick="copyToClipboard('encryptedResult', this)">
                                    <i class="far fa-copy"></i> å¤åˆ¶å¯†æ–‡
                                </button>
                            </div>
                            
                            <div class="tip-box">
                                <i class="fas fa-info-circle"></i> 
                                <strong>æˆåŠŸåŠ å¯†ï¼</strong> ç°åœ¨ä½ å¯ä»¥å°†å¯†æ–‡å¤åˆ¶ç»™æ¥æ”¶æ–¹ï¼Œå¯¹æ–¹ä½¿ç”¨ç›¸åŒçš„å¯†é’¥å³å¯è§£å¯†ã€‚
                            </div>
                        </div>
                    </div>
                    
                    <!-- è§£å¯†éƒ¨åˆ† -->
                    <div class="encryption-box">
                        <div class="encryption-header">
                            <i class="fas fa-unlock" style="color: var(--secondary-color);"></i>
                            <h3>è§£å¯†æ¡£æ¡ˆ</h3>
                        </div>
                        <div class="encryption-content">
                            <div class="input-group">
                                <label for="ciphertext"><i class="fas fa-file-contract"></i> å¯†æ–‡ï¼ˆè¦è§£å¯†çš„æ¡£æ¡ˆå†…å®¹ï¼‰</label>
                                <textarea id="ciphertext" placeholder="è¯·ç²˜è´´è¦è§£å¯†çš„å¯†æ–‡..."></textarea>
                                <button class="copy-btn" onclick="useEncryptedResult()" style="margin-top: 5px;">
                                    <i class="fas fa-paste"></i> ä½¿ç”¨ä¸Šæ–¹åŠ å¯†ç»“æœ
                                </button>
                            </div>
                            
                            <div class="input-group">
                                <label for="decryptKey"><i class="fas fa-key"></i> è§£å¯†å¯†é’¥</label>
                                <input type="text" id="decryptKey" placeholder="è¯·è¾“å…¥è§£å¯†å¯†é’¥">
                            </div>
                            
                            <div class="action-buttons">
                                <button class="btn btn-success" onclick="aesDecrypt()">
                                    <i class="fas fa-unlock"></i> æ‰§è¡ŒAESè§£å¯†
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- è§£å¯†ç»“æœ -->
                    <div class="encryption-box" id="decryptionResultBox" style="display: none;">
                        <div class="encryption-header">
                            <i class="fas fa-check-circle" style="color: var(--success-color);"></i>
                            <h3>è§£å¯†ç»“æœ</h3>
                        </div>
                        <div class="encryption-content">
                            <div class="input-group">
                                <label><i class="fas fa-file-alt"></i> è§£å¯†åçš„æ¡£æ¡ˆï¼ˆæ˜æ–‡ï¼‰</label>
                                <div class="output-box decrypted" id="decryptedResult">
                                    ç­‰å¾…è§£å¯†ç»“æœ...
                                </div>
                                <button class="copy-btn" onclick="copyToClipboard('decryptedResult', this)">
                                    <i class="far fa-copy"></i> å¤åˆ¶æ˜æ–‡
                                </button>
                            </div>
                            
                            <div class="tip-box">
                                <i class="fas fa-shield-check"></i> 
                                <strong>è§£å¯†éªŒè¯æˆåŠŸï¼</strong> è¿™è¡¨æ˜AESå¯¹ç§°åŠ å¯†åœ¨æ¡£æ¡ˆä¼ è¾“ä¸­èƒ½å¤Ÿç¡®ä¿æ•°æ®çš„æœºå¯†æ€§å’Œå®Œæ•´æ€§ã€‚
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tip-box">
                    <strong>æ¡£æ¡ˆå­¦åº”ç”¨ï¼š</strong>åœ¨ç”µå­æ–‡ä»¶ç®¡ç†ç³»ç»Ÿä¸­ï¼ŒAESåŠ å¯†ç”¨äºä¿æŠ¤å­˜å‚¨çš„ç”µå­æ¡£æ¡ˆï¼Œ
                    ç¡®ä¿å³ä½¿æ•°æ®è¢«ç›—ä¹Ÿæ— æ³•è¢«è¯»å–ã€‚ç»“åˆæ•°å­—ç­¾åæŠ€æœ¯ï¼Œè¿˜å¯ä»¥éªŒè¯æ¡£æ¡ˆçš„å®Œæ•´æ€§å’Œæ¥æºçœŸå®æ€§ã€‚
                </div>
            </div>
        </div>
        
        <!-- æŒ‘æˆ˜éƒ¨åˆ† -->
        <div id="challenge" class="tab-content">
            <div class="card">
                <h2 class="section-title"><i class="fas fa-trophy"></i> æ¡£æ¡ˆåŠ å¯†æŒ‘æˆ˜</h2>
                <p>å®Œæˆä»¥ä¸‹åŠ å¯†æŒ‘æˆ˜ï¼Œæµ‹è¯•ä½ çš„æ¡£æ¡ˆä¿æŠ¤æŠ€èƒ½ï¼</p>
                
                <div class="challenge-container">
                    <div class="challenge-card">
                        <h3 class="challenge-title"><i class="fas fa-unlock-alt"></i> æŒ‘æˆ˜ä¸€ï¼šè§£å¯†å¤ä»£æ¡£æ¡ˆ</h3>
                        <p>ä½ å‘ç°äº†ä¸€ä»½å¤ä»£åŠ å¯†æ¡£æ¡ˆï¼Œå¯†æ–‡å¦‚ä¸‹ï¼š</p>
                        <div class="hint">å¯†æ–‡ï¼š<code>KHOOR ZRUOG</code></div>
                        <p>æç¤ºï¼šä½¿ç”¨äº†å‡¯æ’’å¯†ç ï¼Œåç§»é‡=3ï¼ˆAâ†’D, Bâ†’E, Câ†’F...ï¼‰</p>
                        <input type="text" id="challenge1Answer" placeholder="è¾“å…¥è§£å¯†åçš„æ–‡æœ¬" style="margin-top:10px;">
                        <button class="btn btn-accent" onclick="submitChallenge1()" style="margin-top:15px;">
                            <i class="fas fa-check"></i> æäº¤ç­”æ¡ˆ
                        </button>
                        <div id="challenge1Result" style="margin-top:15px;"></div>
                    </div>
                    
                    <div class="challenge-card">
                        <h3 class="challenge-title"><i class="fas fa-key"></i> æŒ‘æˆ˜äºŒï¼šAESåŠ å¯†ä½“éªŒ</h3>
                        <p>ä½¿ç”¨AESåŠ å¯†ä»¥ä¸‹æ¡£æ¡ˆå†…å®¹ï¼š</p>
                        <div class="hint">æ¡£æ¡ˆå†…å®¹ï¼š<code>é¡¹ç›®é¢„ç®—2023-2024</code></div>
                        <p>ä½¿ç”¨å¯†é’¥ï¼š<code>EmergencyTransfer</code></p>
                        <button class="btn" onclick="startChallenge2()" style="margin-top:15px;">
                            <i class="fas fa-play"></i> å¼€å§‹åŠ å¯†
                        </button>
                        <div id="challenge2Result" style="margin-top:15px;"></div>
                    </div>
                    
                    <div class="challenge-card">
                        <h3 class="challenge-title"><i class="fas fa-lightbulb"></i> æŒ‘æˆ˜ä¸‰ï¼šæ€è€ƒé¢˜</h3>
                        <p>ä¸ºä»€ä¹ˆç°ä»£æ¡£æ¡ˆç®¡ç†éœ€è¦AESè€Œä¸æ˜¯å‡¯æ’’å¯†ç ï¼Ÿ</p>
                        <div class="hint">
                            A) å› ä¸ºå‡¯æ’’å¯†ç å¤ªç®€å•ï¼Œå®¹æ˜“è¢«ç ´è§£<br>
                            B) å› ä¸ºAESåŠ å¯†é€Ÿåº¦æ›´å¿«<br>
                            C) å› ä¸ºAESèƒ½æä¾›è¶³å¤Ÿçš„å®‰å…¨æ€§ï¼Œåº”å¯¹ç°ä»£è®¡ç®—èƒ½åŠ›<br>
                            D) ä»¥ä¸Šéƒ½æ˜¯
                        </div>
                        <select id="challenge3Answer" style="margin-top:10px; width:100%;">
                            <option value="">è¯·é€‰æ‹©ç­”æ¡ˆ</option>
                            <option value="A">A) å› ä¸ºå‡¯æ’’å¯†ç å¤ªç®€å•ï¼Œå®¹æ˜“è¢«ç ´è§£</option>
                            <option value="B">B) å› ä¸ºAESåŠ å¯†é€Ÿåº¦æ›´å¿«</option>
                            <option value="C">C) å› ä¸ºAESèƒ½æä¾›è¶³å¤Ÿçš„å®‰å…¨æ€§ï¼Œåº”å¯¹ç°ä»£è®¡ç®—èƒ½åŠ›</option>
                            <option value="D">D) ä»¥ä¸Šéƒ½æ˜¯</option>
                        </select>
                        <button class="btn btn-success" onclick="submitChallenge3()" style="margin-top:15px;">
                            <i class="fas fa-check-circle"></i> æäº¤ç­”æ¡ˆ
                        </button>
                        <div id="challenge3Result" style="margin-top:15px;"></div>
                    </div>
                </div>
                
                <div class="tip-box" style="margin-top:30px;">
                    <strong>è¯¾å ‚äº’åŠ¨å»ºè®®ï¼š</strong>é‚€è¯·åŒå­¦ä¸Šå°ä½“éªŒè§£å¯†æŒ‘æˆ˜ï¼Œåˆ†ç»„è®¨è®ºç°ä»£åŠ å¯†æŠ€æœ¯åœ¨æ¡£æ¡ˆç®¡ç†ä¸­çš„åº”ç”¨ã€‚
                    æ€è€ƒï¼šå¦‚æœä½¿ç”¨å‡¯æ’’å¯†ç ä¿æŠ¤ä»Šå¤©çš„ç”µå­æ¡£æ¡ˆï¼Œä¼šæœ‰ä»€ä¹ˆé£é™©ï¼Ÿ
                </div>
            </div>
        </div>
        
        <footer class="footer">
            <p><i class="fas fa-graduation-cap"></i> ç”µå­æ–‡ä»¶ç®¡ç†è¯¾ç¨‹äº’åŠ¨å±•ç¤º | æ¡£æ¡ˆå­¦ä¸“ä¸š | ä¿¡æ¯åŠ å¯†æŠ€æœ¯çš„å¤ä»Šå¯¹æ¯”</p>
            <p>æœ¬é¡µé¢ä»…ç”¨äºæ•™å­¦æ¼”ç¤ºï¼Œå®é™…åŠ å¯†åº”ç”¨è¯·éµå¾ªç›¸å…³å®‰å…¨è§„èŒƒ</p>
        </footer>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let lastEncryptedText = '';
        let completedChallenges = 0;
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–æ ‡ç­¾é¡µåˆ‡æ¢
            initTabs();
            
            // åˆå§‹åŒ–å‡¯æ’’å¯†ç è½¬ç›˜
            initCipherWheel();
            
            // åˆå§‹åŒ–å‡¯æ’’å¯†ç åç§»é‡ç›‘å¬
            initCaesarShift();
        });
        
        // æ ‡ç­¾é¡µåˆ‡æ¢åŠŸèƒ½
        function initTabs() {
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
                    tabBtns.forEach(b => b.classList.remove('active'));
                    // éšè—æ‰€æœ‰å†…å®¹
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // æ¿€æ´»å½“å‰æŒ‰é’®å’Œå†…å®¹
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });
        }
        
        // åˆå§‹åŒ–å‡¯æ’’å¯†ç è½¬ç›˜
        function initCipherWheel() {
            const wheel = document.getElementById('cipherWheel');
            if (!wheel) return;
            
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            
            // åˆ›å»ºå¤–åœˆå­—æ¯
            for (let i = 0; i < 26; i++) {
                const angle = (i * 360 / 26) * (Math.PI / 180);
                const radius = 85;
                const x = radius * Math.cos(angle);
                const y = radius * Math.sin(angle);
                
                const letter = document.createElement('div');
                letter.className = 'wheel-letter';
                letter.textContent = letters[i];
                letter.style.left = `calc(50% + ${x}px)`;
                letter.style.top = `calc(50% + ${y}px)`;
                letter.style.transform = 'translate(-50%, -50%)';
                wheel.appendChild(letter);
            }
            
            // åˆ›å»ºå†…åœˆå­—æ¯
            for (let i = 0; i < 26; i++) {
                const angle = (i * 360 / 26) * (Math.PI / 180);
                const radius = 60;
                const x = radius * Math.cos(angle);
                const y = radius * Math.sin(angle);
                
                const letter = document.createElement('div');
                letter.className = 'wheel-letter';
                letter.textContent = letters[(i + 3) % 26]; // é»˜è®¤åç§»3
                letter.style.left = `calc(50% + ${x}px)`;
                letter.style.top = `calc(50% + ${y}px)`;
                letter.style.transform = 'translate(-50%, -50%)';
                letter.style.color = 'var(--accent-color)';
                wheel.appendChild(letter);
            }
            
            // æ·»åŠ è½¬ç›˜ä¸­å¿ƒç‚¹
            const center = document.createElement('div');
            center.style.position = 'absolute';
            center.style.width = '20px';
            center.style.height = '20px';
            center.style.background = 'var(--ancient-color)';
            center.style.borderRadius = '50%';
            center.style.left = '50%';
            center.style.top = '50%';
            center.style.transform = 'translate(-50%, -50%)';
            wheel.appendChild(center);
        }
        
        // åˆå§‹åŒ–å‡¯æ’’å¯†ç åç§»é‡ç›‘å¬
        function initCaesarShift() {
            const caesarShift = document.getElementById('caesarShift');
            const shiftValue = document.getElementById('shiftValue');
            
            if (!caesarShift || !shiftValue) return;
            
            // æ›´æ–°åç§»é‡æ˜¾ç¤º
            caesarShift.addEventListener('input', function() {
                const shift = parseInt(this.value);
                shiftValue.textContent = shift;
                rotateCipherWheel(shift);
            });
        }
        
        // æ—‹è½¬å¯†ç è½¬ç›˜
        function rotateCipherWheel(shift) {
            const wheel = document.getElementById('cipherWheel');
            if (!wheel) return;
            
            const innerLetters = wheel.querySelectorAll('.wheel-letter:nth-child(n+27)');
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            
            // æ›´æ–°å†…åœˆå­—æ¯
            innerLetters.forEach((letter, i) => {
                letter.textContent = letters[(i + shift) % 26];
            });
            
            // æ·»åŠ æ—‹è½¬åŠ¨ç”»
            wheel.style.transform = `rotate(${shift * 13.846}deg)`; // 360/26 â‰ˆ 13.846
        }
        
        // å‡¯æ’’å¯†ç ç®—æ³•
        function caesarCipher(text, shift, mode = 'encrypt') {
            shift = shift % 26;
            if (mode === 'decrypt') {
                shift = (26 - shift) % 26;
            }
            
            return text.split('').map(char => {
                const code = char.charCodeAt(0);
                
                // å¤„ç†å¤§å†™å­—æ¯
                if (code >= 65 && code <= 90) {
                    return String.fromCharCode(((code - 65 + shift) % 26) + 65);
                }
                
                // å¤„ç†å°å†™å­—æ¯
                if (code >= 97 && code <= 122) {
                    return String.fromCharCode(((code - 97 + shift) % 26) + 97);
                }
                
                // ä¸­æ–‡å­—ç¬¦ä¸è¿›è¡Œå¤„ç†ï¼ˆä¿ç•™åŸæ ·ï¼‰
                return char;
            }).join('');
        }
        
        // å‡¯æ’’å¯†ç åŠ å¯†
        function encryptCaesar() {
            const text = document.getElementById('caesarText').value;
            const shift = parseInt(document.getElementById('caesarShift').value);
            const resultDiv = document.getElementById('caesarResult');
            
            if (!text) {
                showNotification('è¯·è¾“å…¥è¦åŠ å¯†çš„æ–‡æœ¬ï¼', 'error');
                return;
            }
            
            const encrypted = caesarCipher(text, shift, 'encrypt');
            
            resultDiv.textContent = encrypted;
            resultDiv.classList.remove('decrypted');
            resultDiv.classList.add('encrypted');
            resultDiv.classList.add('highlight');
            setTimeout(() => resultDiv.classList.remove('highlight'), 1000);
            
            showNotification('å‡¯æ’’å¯†ç åŠ å¯†æˆåŠŸï¼', 'success');
        }
        
        // å‡¯æ’’å¯†ç è§£å¯†
        function decryptCaesar() {
            const text = document.getElementById('caesarText').value;
            const shift = parseInt(document.getElementById('caesarShift').value);
            const resultDiv = document.getElementById('caesarResult');
            
            if (!text) {
                showNotification('è¯·è¾“å…¥è¦è§£å¯†çš„æ–‡æœ¬ï¼', 'error');
                return;
            }
            
            const decrypted = caesarCipher(text, shift, 'decrypt');
            
            resultDiv.textContent = decrypted;
            resultDiv.classList.remove('encrypted');
            resultDiv.classList.add('decrypted');
            resultDiv.classList.add('highlight');
            setTimeout(() => resultDiv.classList.remove('highlight'), 1000);
            
            showNotification('å‡¯æ’’å¯†ç è§£å¯†æˆåŠŸï¼', 'success');
        }
        
        // AESåŠ å¯†å‡½æ•° - æ”¹è¿›ç‰ˆ
        function aesEncrypt() {
            const text = document.getElementById('plaintext').value;
            const key = document.getElementById('aesKey').value;
            const resultDiv = document.getElementById('encryptedResult');
            const resultBox = document.getElementById('encryptionResultBox');
            
            if (!text || !key) {
                showNotification('è¯·è¾“å…¥æ–‡æœ¬å’Œå¯†é’¥ï¼', 'error');
                return;
            }
            
            try {
                // ä½¿ç”¨CryptoJSè¿›è¡ŒAESåŠ å¯†
                const encrypted = CryptoJS.AES.encrypt(text, key).toString();
                
                // æ˜¾ç¤ºç»“æœ
                resultDiv.textContent = encrypted;
                resultDiv.classList.remove('decrypted');
                resultDiv.classList.add('encrypted');
                resultDiv.classList.add('highlight');
                setTimeout(() => resultDiv.classList.remove('highlight'), 1000);
                
                // æ˜¾ç¤ºç»“æœæ¡†
                resultBox.style.display = 'block';
                
                // ä¿å­˜åŠ å¯†ç»“æœåˆ°å…¨å±€å˜é‡
                lastEncryptedText = encrypted;
                
                // è‡ªåŠ¨å¡«å……åˆ°è§£å¯†éƒ¨åˆ†çš„å¯†æ–‡è¾“å…¥æ¡†
                document.getElementById('ciphertext').value = encrypted;
                document.getElementById('decryptKey').value = key;
                
                showNotification('AESåŠ å¯†æˆåŠŸï¼', 'success');
            } catch (e) {
                resultDiv.textContent = 'åŠ å¯†å‡ºé”™ï¼šè¯·æ£€æŸ¥è¾“å…¥å†…å®¹';
                showNotification('åŠ å¯†å‡ºé”™ï¼š' + e.message, 'error');
                console.error('AESåŠ å¯†é”™è¯¯:', e);
            }
        }
        
        // AESè§£å¯†å‡½æ•° - æ”¹è¿›ç‰ˆ
        function aesDecrypt() {
            const ciphertext = document.getElementById('ciphertext').value;
            const key = document.getElementById('decryptKey').value;
            const resultDiv = document.getElementById('decryptedResult');
            const resultBox = document.getElementById('decryptionResultBox');
            
            if (!ciphertext || !key) {
                showNotification('è¯·è¾“å…¥å¯†æ–‡å’Œå¯†é’¥ï¼', 'error');
                return;
            }
            
            try {
                // ä½¿ç”¨CryptoJSè¿›è¡ŒAESè§£å¯†
                const bytes = CryptoJS.AES.decrypt(ciphertext, key);
                const decrypted = bytes.toString(CryptoJS.enc.Utf8);
                
                if (decrypted) {
                    // æ˜¾ç¤ºè§£å¯†ç»“æœ
                    resultDiv.textContent = decrypted;
                    resultDiv.classList.remove('encrypted');
                    resultDiv.classList.add('decrypted');
                    resultDiv.classList.add('highlight');
                    setTimeout(() => resultDiv.classList.remove('highlight'), 1000);
                    
                    // æ˜¾ç¤ºç»“æœæ¡†
                    resultBox.style.display = 'block';
                    
                    showNotification('AESè§£å¯†æˆåŠŸï¼', 'success');
                } else {
                    resultDiv.textContent = 'âŒ è§£å¯†å¤±è´¥ï¼å¯†é’¥å¯èƒ½ä¸æ­£ç¡®ã€‚';
                    resultDiv.classList.remove('encrypted', 'decrypted');
                    showNotification('è§£å¯†å¤±è´¥ï¼šå¯†é’¥å¯èƒ½ä¸æ­£ç¡®', 'error');
                }
            } catch (e) {
                resultDiv.textContent = 'è§£å¯†å‡ºé”™ï¼šè¯·ç¡®ä¿è¾“å…¥çš„æ˜¯æœ‰æ•ˆçš„AESåŠ å¯†æ–‡æœ¬';
                resultDiv.classList.remove('encrypted', 'decrypted');
                showNotification('è§£å¯†å‡ºé”™ï¼šè¯·æ£€æŸ¥è¾“å…¥æ ¼å¼', 'error');
                console.error('AESè§£å¯†é”™è¯¯:', e);
            }
        }
        
        // ç”Ÿæˆéšæœºå¯†é’¥
        function generateRandomKey() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
            let key = '';
            
            // ç”Ÿæˆ16ä½éšæœºå¯†é’¥
            for (let i = 0; i < 16; i++) {
                key += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            document.getElementById('aesKey').value = key;
            showNotification('éšæœºå¯†é’¥å·²ç”Ÿæˆï¼', 'success');
        }
        
        // ä½¿ç”¨åŠ å¯†ç»“æœå¡«å……è§£å¯†è¾“å…¥æ¡†
        function useEncryptedResult() {
            if (lastEncryptedText) {
                document.getElementById('ciphertext').value = lastEncryptedText;
                document.getElementById('decryptKey').value = document.getElementById('aesKey').value;
                showNotification('å·²ä½¿ç”¨æœ€æ–°åŠ å¯†ç»“æœå¡«å……', 'success');
            } else {
                showNotification('è¯·å…ˆæ‰§è¡Œä¸€æ¬¡åŠ å¯†æ“ä½œ', 'error');
            }
        }
        
        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        function copyToClipboard(elementId, button) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸåé¦ˆ
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> å·²å¤åˆ¶';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('copied');
                }, 2000);
                
                showNotification('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                showNotification('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¤åˆ¶', 'error');
            });
        }
        
        // æŒ‘æˆ˜ä¸€ï¼šå‡¯æ’’å¯†ç è§£å¯†
        function submitChallenge1() {
            const answer = document.getElementById('challenge1Answer').value.trim().toUpperCase();
            const resultDiv = document.getElementById('challenge1Result');
            
            // å‡¯æ’’å¯†ç è§£å¯†ï¼Œåç§»é‡ä¸º3
            const decrypted = caesarCipher('KHOOR ZRUOG', 3, 'decrypt');
            
            if (answer === decrypted) {
                resultDiv.innerHTML = '<span style="color:var(--success-color);"><i class="fas fa-check-circle"></i> æ­£ç¡®ï¼æˆåŠŸè§£å¯†å¤ä»£æ¡£æ¡ˆã€‚ç­”æ¡ˆæ˜¯ï¼š"HELLO WORLD"</span>';
                completeChallenge();
                document.querySelector('#challenge1Answer').disabled = true;
                document.querySelector('#challenge1Answer + button').disabled = true;
                showNotification('æŒ‘æˆ˜ä¸€å®Œæˆï¼', 'success');
            } else {
                resultDiv.innerHTML = '<span style="color:var(--warning-color);"><i class="fas fa-times-circle"></i> ç­”æ¡ˆä¸æ­£ç¡®ï¼Œå†è¯•è¯•çœ‹ï¼æç¤ºï¼šHâ†’K, Eâ†’H, Lâ†’O...</span>';
            }
        }
        
        // æŒ‘æˆ˜äºŒï¼šAESåŠ å¯†ä½“éªŒ
        function startChallenge2() {
            const resultDiv = document.getElementById('challenge2Result');
            
            // ä½¿ç”¨AESåŠ å¯†
            const text = 'é¡¹ç›®é¢„ç®—2023-2024';
            const key = 'EmergencyTransfer';
            
            try {
                const encrypted = CryptoJS.AES.encrypt(text, key).toString();
                
                resultDiv.innerHTML = `
                    <div style="margin-top:10px;">
                        <p><strong>åŠ å¯†ç»“æœï¼š</strong></p>
                        <div style="background:#f8f9fa; padding:12px; border-radius:6px; margin:10px 0; font-family:monospace; word-break:break-all;">
                            ${encrypted.substring(0, 80)}...
                        </div>
                        <p>âœ… ä½¿ç”¨å¯†é’¥"EmergencyTransfer"æˆåŠŸåŠ å¯†æ¡£æ¡ˆå†…å®¹ï¼</p>
                        <button class="btn btn-success" onclick="completeChallenge2()" style="margin-top:10px;">
                            <i class="fas fa-flag-checkered"></i> å®ŒæˆæŒ‘æˆ˜
                        </button>
                    </div>
                `;
                
                showNotification('AESåŠ å¯†æˆåŠŸï¼', 'success');
            } catch (e) {
                resultDiv.innerHTML = '<span style="color:var(--warning-color);">åŠ å¯†å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</span>';
            }
        }
        
        // å®ŒæˆæŒ‘æˆ˜äºŒ
        function completeChallenge2() {
            const resultDiv = document.getElementById('challenge2Result');
            resultDiv.innerHTML += '<p style="color:var(--success-color); margin-top:10px;"><i class="fas fa-check-circle"></i> æŒ‘æˆ˜å®Œæˆï¼æˆåŠŸåŠ å¯†å¹¶ä¼ è¾“æ¡£æ¡ˆã€‚</p>';
            document.querySelector('#challenge2Result button').disabled = true;
            completeChallenge();
            showNotification('æŒ‘æˆ˜äºŒå®Œæˆï¼', 'success');
        }
        
        // æŒ‘æˆ˜ä¸‰ï¼šæ€è€ƒé¢˜
        function submitChallenge3() {
            const answer = document.getElementById('challenge3Answer').value;
            const resultDiv = document.getElementById('challenge3Result');
            
            if (!answer) {
                resultDiv.innerHTML = '<span style="color:var(--warning-color);">è¯·é€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼</span>';
                return;
            }
            
            if (answer === 'D') {
                resultDiv.innerHTML = '<span style="color:var(--success-color);"><i class="fas fa-check-circle"></i> æ­£ç¡®ï¼ç°ä»£æ¡£æ¡ˆç®¡ç†éœ€è¦å¼ºå¤§çš„åŠ å¯†ç®—æ³•æ¥åº”å¯¹å„ç§å®‰å…¨å¨èƒã€‚</span>';
                completeChallenge();
                document.getElementById('challenge3Answer').disabled = true;
                document.querySelector('#challenge3Answer + button').disabled = true;
                showNotification('æŒ‘æˆ˜ä¸‰å®Œæˆï¼', 'success');
            } else {
                resultDiv.innerHTML = '<span style="color:var(--warning-color);"><i class="fas fa-times-circle"></i> ç­”æ¡ˆä¸æ­£ç¡®ï¼Œå†æ€è€ƒä¸€ä¸‹ï¼æç¤ºï¼šè€ƒè™‘å®‰å…¨æ€§å’Œå®é™…åº”ç”¨éœ€æ±‚ã€‚</span>';
            }
        }
        
        // å®ŒæˆæŒ‘æˆ˜
        function completeChallenge() {
            completedChallenges++;
            
            // å¦‚æœæ‰€æœ‰æŒ‘æˆ˜å®Œæˆ
            if (completedChallenges === 3) {
                setTimeout(() => {
                    showNotification('æ­å–œï¼ä½ å·²å®Œæˆæ‰€æœ‰æ¡£æ¡ˆåŠ å¯†æŒ‘æˆ˜ï¼', 'success');
                }, 500);
            }
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'info') {
            // ç§»é™¤ä¹‹å‰çš„é€šçŸ¥
            const oldNotification = document.querySelector('.notification');
            if (oldNotification) oldNotification.remove();
            
            // åˆ›å»ºæ–°é€šçŸ¥
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            // 3ç§’åç§»é™¤
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transition = 'opacity 0.5s';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }
    </script>
</body>
</html>